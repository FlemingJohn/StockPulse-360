graph TB
    subgraph "Data Ingestion"
        A[CSV Upload] -->|Snowpipe| B[Snowflake Stage]
        B --> C[RAW_STOCK Table]
    end
    
    subgraph "Data Processing"
        C --> D[Dynamic Tables]
        D --> E[stock_stats]
        D --> F[stock_health]
        D --> G[reorder_recommendations]
    end
    
    subgraph "AI/ML Layer"
        H[Seasonal Forecaster<br/>✅ 63 forecasts]
        I[ABC Analysis<br/>✅ 3 items classified]
        J[Stockout Impact<br/>✅ 9 items analyzed]
        K[Budget Tracking<br/>✅ Real-time monitoring]
    end
    
    E & F & G --> H & I & J & K
    
    subgraph "Presentation"
        H & I & J & K --> L[Streamlit Dashboard]
        L --> M[Interactive Visualizations]
        L --> N[Alerts & Notifications]
        L --> O[Export & Reports]
    end
    
    style H fill:#90EE90
    style I fill:#90EE90
    style J fill:#90EE90
    style K fill:#90EE90
